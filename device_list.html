<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">   
    <meta http-equiv="X-UA-Compatible" content="IE=edge">  <!-- required to handle IE -->
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <title>Score_View</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<header>  
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
      <a class="navbar-brand">AWAIR and Informed</a>
      
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">   
        <ul class="navbar-nav">  
          <li class="nav-item"> 
            <a class="nav-link" href="./device_list.html">Device List</a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link" href="./feedback.html">Provide Feedback</a>
          </li>                         
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://livinglinklab.github.io/">Living Link Lab</a>
          </li>            
          <li class="nav-item"> 
            <a class="nav-link" href="./faq.html">FAQ</a>
          </li>                  
        </ul>
      </div>  
              
    </nav>
</header>

<body style="background-color:rgb(255, 213, 184); text-align: center;">
    <!-- Use Javascript to list all devices students can select (using index.html)-->
    <h2>List of AWAIR Devices</h2>
    <br>
    <div id="table_container"></div>
    
    <script>
      document.open();
          fetch("https://awair.linklab.virginia.edu/api/v1/devices/")
	        .then(r => r.json())
	        .then(data => {
            mytable = '<table border="5" align="center">'
            data.devices.forEach(function(item,index) {
              if (index%3 == 0){
                mytable+="<tr>"
              }
            mytable+='<td bgcolor="white"><img style="border: 2px solid #000000; border-radius:20px;" src="awair_sensor_clear.jpg" width="100" height="100"/>'.concat("<p>Device: <a href=./device.html?device_id=",item.device_id,">",item.device_id,"</a></p><p>Location: ",item.location,"</p><p>Description: ",item.description,"</p></td>")
            })
          document.getElementById("table_container").innerHTML = mytable;
          });
    </script>
    </table>
</body>


<div id="footer">
    <small class="copyright" style="color: black;">&copy; Living Link Lab</small>
</div>